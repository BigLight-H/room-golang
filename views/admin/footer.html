<!-- begin theme-panel -->
<div class="theme-panel theme-panel-lg">
    <a href="javascript:;" data-click="theme-panel-expand" class="theme-collapse-btn"><i class="fa fa-cog"></i></a>
    <div class="theme-panel-content">
        <h5 class="m-t-0">Color Theme</h5>
        <ul class="theme-list clearfix">
            <li><a href="javascript:;" class="bg-red" data-theme="red" data-theme-file="/static/assets/css/default/theme/red.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Red">&nbsp;</a></li>
            <li><a href="javascript:;" class="bg-pink" data-theme="pink" data-theme-file="/static/assets/css/default/theme/pink.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Pink">&nbsp;</a></li>
            <li><a href="javascript:;" class="bg-orange" data-theme="orange" data-theme-file="/static/assets/css/default/theme/orange.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Orange">&nbsp;</a></li>
            <li><a href="javascript:;" class="bg-yellow" data-theme="yellow" data-theme-file="/static/assets/css/default/theme/yellow.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Yellow">&nbsp;</a></li>
            <li><a href="javascript:;" class="bg-lime" data-theme="lime" data-theme-file="/static/assets/css/default/theme/lime.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Lime">&nbsp;</a></li>
            <li><a href="javascript:;" class="bg-green" data-theme="green" data-theme-file="/static/assets/css/default/theme/green.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Green">&nbsp;</a></li>
            <li><a href="javascript:;" class="bg-teal" data-theme="default" data-theme-file="/static/assets/css/default/theme/default.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Default">&nbsp;</a></li>
            <li><a href="javascript:;" class="bg-aqua" data-theme="aqua" data-theme-file="/static/assets/css/default/theme/aqua.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Aqua">&nbsp;</a></li>
            <li><a href="javascript:;" class="bg-blue" data-theme="blue" data-theme-file="/static/assets/css/default/theme/blue.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Blue">&nbsp;</a></li>
            <li><a href="javascript:;" class="bg-purple" data-theme="purple" data-theme-file="/static/assets/css/default/theme/purple.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Purple">&nbsp;</a></li>
            <li><a href="javascript:;" class="bg-indigo" data-theme="indigo" data-theme-file="/static/assets/css/default/theme/indigo.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Indigo">&nbsp;</a></li>
            <li><a href="javascript:;" class="bg-black" data-theme="black" data-theme-file="/static/assets/css/default/theme/black.css" data-click="theme-selector" data-toggle="tooltip" data-trigger="hover" data-container="body" data-title="Black">&nbsp;</a></li>
        </ul>
        <div class="divider"></div>
        <div class="row m-t-10">
            <div class="col-md-6 control-label text-inverse f-w-600">Header Styling</div>
            <div class="col-md-6">
                <select name="header-styling" class="form-control form-control-sm">
                    <option value="1">default</option>
                    <option value="2">inverse</option>
                </select>
            </div>
        </div>
        <div class="row m-t-10">
            <div class="col-md-6 control-label text-inverse f-w-600">Header</div>
            <div class="col-md-6">
                <select name="header-fixed" class="form-control form-control-sm">
                    <option value="1">fixed</option>
                    <option value="2">default</option>
                </select>
            </div>
        </div>
        <div class="row m-t-10">
            <div class="col-md-6 control-label text-inverse f-w-600">Sidebar Styling</div>
            <div class="col-md-6">
                <select name="sidebar-styling" class="form-control form-control-sm">
                    <option value="1">default</option>
                    <option value="2">grid</option>
                </select>
            </div>
        </div>
        <div class="row m-t-10">
            <div class="col-md-6 control-label text-inverse f-w-600">Sidebar</div>
            <div class="col-md-6">
                <select name="sidebar-fixed" class="form-control form-control-sm">
                    <option value="1">fixed</option>
                    <option value="2">default</option>
                </select>
            </div>
        </div>
        <div class="row m-t-10">
            <div class="col-md-6 control-label text-inverse f-w-600">Sidebar Gradient</div>
            <div class="col-md-6">
                <select name="content-gradient" class="form-control form-control-sm">
                    <option value="1">disabled</option>
                    <option value="2">enabled</option>
                </select>
            </div>
        </div>
        <div class="row m-t-10">
            <div class="col-md-6 control-label text-inverse f-w-600">Content Styling</div>
            <div class="col-md-6">
                <select name="content-styling" class="form-control form-control-sm">
                    <option value="1">default</option>
                    <option value="2">black</option>
                </select>
            </div>
        </div>
        <div class="row m-t-10">
            <div class="col-md-6 control-label text-inverse f-w-600">Direction</div>
            <div class="col-md-6">
                <select name="direction" class="form-control form-control-sm">
                    <option value="1">LTR</option>
                    <option value="2">RTL</option>
                </select>
            </div>
        </div>
        <div class="divider"></div>
        <h5>THEME VERSION</h5>
        <div class="theme-version">
            <a href="/static/template_html/index_v2.html" class="active">
                <span style="background-image: url(/static/assets/img/theme/default.jpg);"></span>
            </a>
            <a href="/static/template_transparent/index_v2.html">
                <span style="background-image: url(/static/assets/img/theme/transparent.jpg);"></span>
            </a>
        </div>
        <div class="theme-version">
            <a href="/static/template_apple/index_v2.html">
                <span style="background-image: url(/static/assets/img/theme/apple.jpg);"></span>
            </a>
            <a href="/static/template_material/index_v2.html">
                <span style="background-image: url(/static/assets/img/theme/material.jpg);"></span>
            </a>
        </div>
        <div class="theme-version">
            <a href="/static/template_facebook/index_v2.html">
                <span style="background-image: url(/static/assets/img/theme/facebook.jpg);"></span>
            </a>
        </div>
        <div class="divider"></div>
        <div class="row m-t-10">
            <div class="col-md-12">
                <a href="javascript:;" class="btn btn-inverse btn-block btn-rounded" data-click="reset-local-storage"><b>Reset Local Storage</b></a>
            </div>
        </div>
    </div>
</div>
<!-- end theme-panel -->

<!-- begin scroll to top btn -->
<a href="javascript:;" class="btn btn-icon btn-circle btn-success btn-scroll-to-top fade" data-click="scroll-top"><i class="fa fa-angle-up"></i></a>
<!-- end scroll to top btn -->
</div>
<!-- end page container -->

<!-- ================== BEGIN BASE JS ================== -->
<script src="/static/assets/plugins/jquery/jquery-3.3.1.min.js"></script>
<script src="/static/assets/plugins/jquery-ui/jquery-ui.min.js"></script>
<script src="/static/assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!--[if lt IE 9]>
<script src="/static/assets/crossbrowserjs/html5shiv.js"></script>
<script src="/static/assets/crossbrowserjs/respond.min.js"></script>
<script src="/static/assets/crossbrowserjs/excanvas.min.js"></script>
<![endif]-->
<script src="/static/assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
<script src="/static/assets/plugins/js-cookie/js.cookie.js"></script>
<script src="/static/assets/js/theme/default.min.js"></script>
<script src="/static/assets/js/apps.min.js"></script>
<!-- ================== END BASE JS ================== -->

<!-- ================== BEGIN PAGE LEVEL JS ================== -->
<script src="/static/assets/plugins/gritter/js/jquery.gritter.js"></script>
<script src="/static/assets/plugins/flot/jquery.flot.min.js"></script>
<script src="/static/assets/plugins/flot/jquery.flot.time.min.js"></script>
<script src="/static/assets/plugins/flot/jquery.flot.resize.min.js"></script>
<script src="/static/assets/plugins/flot/jquery.flot.pie.min.js"></script>
<script src="/static/assets/plugins/sparkline/jquery.sparkline.js"></script>
<script src="/static/assets/plugins/jquery-jvectormap/jquery-jvectormap.min.js"></script>
<script src="/static/assets/plugins/jquery-jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<script src="/static/assets/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
<script src="/static/assets/js/demo/dashboard.min.js"></script>
<!-- ================== END PAGE LEVEL JS ================== -->

<script>
    $(document).ready(function() {
        App.init();
        Dashboard.init();
    });

    //追加表元素
    $(document).ready(function(){
        data = {{ .select }}
        $("#add-tb").click(function(){
            num = Number($('#hidden-value').val()) + 1;
            $("#now-table").append("<tr>\n" +
                "                            <td>\n" +
                "                                <div class=\"col-md-8\">\n" +
                "                                    <select class=\"default-select2 form-control\" id=\"type-value"+num+"\">\n" +
                "                                        <option value=\"\">请选择类型</option>\n" +
                                                            data +
                "                                    </select>\n" +
                "                                </div>\n" +
                "                            </td>\n" +
                "                            <td class=\"text-center\">\n" +
                "                                <div class=\"col-md-12\">\n" +
                "                                    <input data-toggle=\"text\" class=\"form-control\" type=\"text\" placeholder=\"输入尺寸\" id=\"size-value"+num+"\" oninput=\"inputnum(this)\" onchange=\"inputChange("+num+");\" />\n" +
                "                                </div>\n" +
                "                            </td>\n" +
                "                            <td class=\"text-right\" id=\"row-value"+num+"\">0</td>\n" +
                "                        </tr>");
            $('#hidden-value').val(num)
        });
    });

    function sumRow(num) {
        var type_val = $('#type-value'+num).val();
        var size_val = $('#size-value'+num).val();
        $('#row-value'+num).text(type_val * size_val);
        sumAll();
        compute();
    }

    function sumAll() {
        var hidden_val = Number($('#hidden-value').val());
        var sum = 0;
        var str = '';
        if (hidden_val) {
            for(j = 0; j <= hidden_val; j++) {
                val = $('#row-value'+j).text();
                sum = sum + Number(val);
                str += val+' + ';
            }
            $('#compute-all').text(str.slice(0,-3)+' = '+sum);
            $('#money-sum').text(sum);
        } else {
            $('#money-sum').text($('#row-value0').text())
            $('#compute-all').text($('#row-value0').text());
        }

        totalMoney();
    }
    
    function totalMoney() {
        var money = $('#money-sum').text();
        var coupon = $('#coupon-value').val() ? $('#coupon-value').val() : 0;
        if (coupon > 0) {
            $('#coupon').text( coupon + '(' + $('#coupon-value').find("option:selected").text() + ')');
        } else {
            $('#coupon').text( coupon );
        }
        $('#moneys').text(Number(money) - Number(coupon));
    }

    function inputnum(obj,val){
        obj.value = obj.value.replace(/[^\d.]/g,""); //清除"数字"和"."以外的字符
        obj.value = obj.value.replace(/^\./g,""); //验证第一个字符是数字
        obj.value = obj.value.replace(/\.{2,}/g,""); //只保留第一个, 清除多余的
        obj.value = obj.value.replace(".","$#$").replace(/\./g,"").replace("$#$",".");
        obj.value = obj.value.replace(/^(\-)*(\d+)\.(\d\d).*$/,'$1$2.$3'); //只能输入两个小数
    }

    function inputChange(num) {
        sumRow(num);
    }

    function compute() {
        $('#compute').text('');
        var hidden_val = Number($('#hidden-value').val());
        for(j = 0; j <= hidden_val; j++) {
            var type_val = $('#type-value'+j).val();
            var size_val = $('#size-value'+j).val();
            var sum = type_val * size_val;
            $('#compute').append(
                 "<p>"+ type_val +" * "+ size_val +" = " + sum +" </p>"
            )
        }
    }

</script>
</body>
</html>